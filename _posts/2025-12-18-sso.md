---
layout: single
title: "SSO 이해하기"
date: 2025-12-18 01:00:00 +0900
categories: MIS
share: true
toc: true
toc_sticky: true
---

## Intro

- AI 서비스가 쏟아져 나오고 있다. AI 서비스도 회사 내에서 사용하기 위해서는 SSO 인증을 연결 해야한다. 그래서 정리해보는 페이지:)

## SSO(Single Sign On)

- 한번의 인증 과정으로 허가된 서비스에 추가 로그인 없이 접근

### 동작방식

1. 사용자가 [서비스 A]에 접속
2. 서비스 A는 사용자에게 인증 토큰이 있는지 확인
    1. 없으면 [SSO 인증서버]로 Redirect
3. 사용자 로그인 수행
인증토큰 (JWT, SAML …) 발급
4. 서비스 A는 이 토큰을 검증하여 로그인을 승인
5. 이후 [서비스 B] 접속 시, 이미 발급된 토큰이 있으므로 로그인 과정 생략

![SSO 동작방식](/assets/images/2025-12-18-sso-flow.png)

### 프로토콜

- SAML 2.0: XML 기반의 데이터 교환 표준
- OIDC(OpenID Connect)
- 그 외


## 실습: Keycloak 설치

IdP의 작동 원리를 더 깊게 이해하고자 대표적인 오픈소스 솔루션인 **Keycloak**을 Docker 환경에서 실행해보았다. 직접 해보니 핵심 설정값 2가지에 대해 이해할 수 있었다.

### 서비스 등록 시 핵심 설정 값 2가지
> 보안의 핵심: 만약 이 주소를 아무나 설정할 수 있다면, 해커가 자신의 사이트로 인증 토큰을 가로챌 수 있다. IdP는 오직 여기에 등록된 주소로만 토큰을 보내준다.

  - 1) Base URL: 서비스의 메인 주소 (예: https://myapp.com) IdP가 해당 서비스로 이동할 때 기준이 되는 주소로 활용

  - 2) Valid Redirect URIs (가장 중요!): 로그인이 성공한 후, IdP가 사용자를 다시 돌려보낼 **'허용된 주소 리스트'** (예: https://myapp.com/login/callback)


---

### 용어

- IdP (Identity Provider) : 인증 제공자